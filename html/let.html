<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>let -- 变量 </title>
  </head>
  <body>
    <script>
      window.onload = function(){

        // 不可重复命名
        //var b = 1;
        //var b = 2;
        //console.log(b); // 2
        //let a = "12";
        //let a = "a";
        //console.log(a); // 报错 Uncaught SyntaxError: Identifier 'a' has already been declared -- 前面的语句也不执行

        // 不允许变量提升
        //console.log(test); // undefined
        //var test = 1;
        // 等价于  ==》
        //var test;
        //console.log(test);
        //test = 1;

        //console.log(test1); // 报错 Uncaught ReferenceError: test1 is not defined
        //let test1 = 1;

        // 块级作用域
        if(true){
          let a = 1;
          var b = 2;
          console.log(a); // 1
          console.log(b); // 2
        }
        console.log(b); // 2 -- var没有块级作用域限制
        console.log(a); // 报错 Uncaught ReferenceError: a is not defined -- 报错后不会往下执行

        /* 块级作用域的使用场景有 */
        for(let i=0; i<5; i++){
            // 如果块级作用域定义了变量就在块级作用域拿，否则在块级作用域外拿
            console.log(i); // 0 1 2 3 4
            setTimeout(function(){
              console.log(i); // 0 1 2 3 4
            },0);
        }
        console.log(i); // Uncaught ReferenceError: i is not defined

        for (var i = 0; i < 5; i++) {
          console.log(i); // 0 1 2 3 4
          setTimeout(function(){
            console.log(i); // 5 5 5 5 5
          },0);
        }
        console.log(i); // 5

      }
    </script>
  </body>
</html>
