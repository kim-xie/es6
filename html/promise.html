<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>promise</title>
  </head>
  <body>
    <script>
      window.onload = function(){
        // 1、异步、同步、串行、并行
        // 2、Promise既是一个对象也是一个构造函数
        // 3、查看promise的api: console.dir(Promise);
        // 4、传统的异步有哪些？如何串行和并行执行
        // 5、同步、微异步、异步的执行步骤
        // 6、promise有哪些特征
        // 7、api详解
        // javascript语言本身是单线程的。同一时刻，有且仅有一处代码正在执行。包括setTime的那两个函数也是如此。所有涉及到异步的方法和函数都是由浏览器的另一个线程去执行的，程序员所能控制的"另一个线程"也仅限于这些方法。
        let promise = new Promise(function(resolve,reject){
          // 执行一些异步代码...
          if(/*异步操作成功*/){
              resolve(success);
          }else{
              reject(error);
          }
        });

        promise.then(function(success){
          // 异步操作成功在这里执行...
        },function(error){
          // 异步操作失败在这里执行...
        })

        promise.then(function(success){
          // 异步操作成功在这里执行...
        }).catch(function(error){
          // 异步操作失败在这里执行...
        });

        promise.then(function(success){
          // 异步操作成功在这里执行...
        });

        promise.catch(function(error){
          // 异步操作失败在这里执行...
        });

        // Promise.resolve()代码等价
        let successPromise = Promise.resolve();
        let successPromise = new Promise(function(resolve,reject){
          resolve();
        });

        // Promise.reject()代码等价
        let errorPromise = Promise.reject();
        let errorPromise = new Promise(function(resolve,reject){
          reject();
        });

        // 状态已经生成就不会改变
        let status = new Promise(function(resolve, reject){
          resolve("ok");
          // 上面的代码只要执行下面的就不会再执行
          throw new error();
        });



      }
    </script>
  </body>
</html>
